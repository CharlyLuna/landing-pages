<section
  id='fighters'
  class={`flex justify-between relative 
  [&>div>img]:absolute 
  [&>div>img]:bottom-0 
  [&>div>img]:w-auto 
  [&>div>img]:animate-duration-700
  h-[40vh] md:h-[65vh] lg:h-screen pt-4 lg:pt-24 border-b border-white/10 overflow-hidden`}
>
  <div
    class='absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#131313] via-gray-900 to-black'
  >
  </div>
  <div class='relative w-full'>
    <img
      class='left-0 h-full z-50 animate-fade-right'
      srcset='/boxers/coscu-mobile.webp 767w, /boxers/coscu.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Coscu'
    />
    <img
      class='left-[4%] h-[80%] z-40 animate-fade-right animate-delay-200'
      srcset='/boxers/mayichi-mobile.webp 767w, /boxers/mayichi.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Mayichi'
    />
    <img
      class='left-[14%] h-[75%] z-30 animate-fade-right animate-delay-300'
      srcset='/boxers/viruzz-mobile.webp 767w, /boxers/viruzz.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Viruzz'
    />
    <img
      class='left-[29%] h-[70%] z-20 animate-fade-right animate-delay-500'
      srcset='/boxers/fernanfloo-mobile.webp 767w, /boxers/fernanfloo.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Fernanfloo'
      style='clip-path: polygon(100% 100%, 100% 91%, 85% 84%, 79% 72%, 76% 33%, 58% 28%, 61% 24%, 69% 22%, 71% 17%, 74% 14%, 68% 11%, 67% 8%, 62% 5%, 62% 0, 36% 0, 13% 6%, 12% 17%, 29% 23%, 9% 30%, 0 35%, 0 100%);'
    />
    <img
      class='left-[41%] h-[68%] z-10 animate-fade-right animate-delay-700'
      srcset='/boxers/la-rivers-mobile.webp 767w, /boxers/la-rivers.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='La Rivers'
    />
    <img
      class='left-[48%] h-[62%] z-0 animate-fade-right animate-delay-1000'
      srcset='/boxers/papigavi-mobile.webp 767w, /boxers/papigavi.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Papigavi'
    />
  </div>

  <div class='relative w-full'>
    <img
      class='right-0 h-full z-50 animate-fade-left'
      srcset='/boxers/german-mobile.webp 767w, /boxers/german.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='German'
    />
    <img
      class='right-[4%] h-[80%] z-40 animate-fade-left animate-delay-200'
      srcset='/boxers/amouranth-mobile.webp 767w, /boxers/amouranth.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Amouranth'
    />
    <img
      class='right-[14%] h-[75%] z-30 animate-fade-left animate-delay-300'
      srcset='/boxers/shelao-mobile.webp 767w, /boxers/shelao.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Shelao'
    />
    <img
      class='right-[29%] h-[70%] z-20 animate-fade-left animate-delay-500'
      srcset='/boxers/luzu-mobile.webp 767w, /boxers/luzu.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Luzu'
    />
    <img
      class='right-[41%] h-[68%] z-10 animate-fade-left animate-delay-700'
      srcset='/boxers/rivers-mobile.webp 767w, /boxers/rivers.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Rivers'
    />
    <img
      class='right-[48%] h-[62%] z-0 animate-fade-left animate-delay-1000'
      srcset='/boxers/ampeter-mobile.webp 767w, /boxers/ampeter.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Ampeter'
    />
  </div>
</section>

<script>
  const fighters = document.querySelector("#fighters")
  const fightersImages = fighters.querySelectorAll("img")

  fightersImages.forEach((img) => {
    img.addEventListener("mouseleave", () => {
      fightersImages.forEach((img) => {
        img.style.filter = "none"
        img.style.transition = "all .3s ease-in-out"
        img.style.scale = "1"
      })
    })
    img.addEventListener("mouseenter", () => {
      const sectionImages = img.parentNode.children
      const position = Array.from(sectionImages).indexOf(img)
      // Get left fighter and right fighter from position
      const [leftFighter, rightFighter] = [
        fightersImages[position],
        fightersImages[position + fightersImages.length / 2],
      ]
      // Hide non highlighted fighters
      fightersImages.forEach((img) => {
        img.style.filter = "blur(2px) grayscale(.8)"
        img.style.transition = "all .3s ease-in-out"
      })

      // Highlight the vs pair of fighters
      leftFighter.style.scale = "1.05"
      leftFighter.style.filter = "contrast(1.1)"
      leftFighter.style.transition = "all .3s ease-in-out"

      rightFighter.style.scale = "1.05"
      rightFighter.style.filter = "contrast(1.1)"
      rightFighter.style.transition = "all .3s ease-in-out"
    })
  })
</script>
