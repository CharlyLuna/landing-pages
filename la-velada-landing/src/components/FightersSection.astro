<section
  id='fighters'
  class={`flex justify-between relative 
  [&>div>img]:absolute 
  [&>div>img]:bottom-0 
  [&>div>img]:w-auto 
  [&>div>img]:animate-duration-700
  h-[40vh] md:h-[65vh] lg:h-screen pt-4 lg:pt-24 border-b border-white/10 overflow-hidden`}
>
  <div
    class='absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#131313] via-gray-900 to-black'
  >
  </div>
  <div class='relative w-full'>
    <img
      class='left-0 h-full z-50 animate-fade-right'
      srcset='/boxers/coscu-mobile.webp 767w, /boxers/coscu.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Coscu'
      style='clip-path: polygon(0% 100%, 0 1%, 39% 0, 100% 8%, 97% 16%, 94% 24%, 100% 30%, 82% 35%, 70% 42%, 36% 41%, 24% 44%, 51% 50%, 69% 63%, 92% 100%);'
    />
    <img
      class='left-[4%] h-[80%] z-40 animate-fade-right animate-delay-200'
      srcset='/boxers/mayichi-mobile.webp 767w, /boxers/mayichi.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Mayichi'
      style='clip-path: polygon(86% 55%, 90% 41%, 81% 36%, 60% 30%, 69% 24%, 77% 17%, 75% 14%, 78% 9%, 72% 3%, 53% 0, 34% 1%, 25% 6%, 18% 19%, 13% 32%, 11% 53%, 8% 69%, 23% 71%, 20% 79%, 32% 91%, 32% 100%, 100% 100%, 100% 90%, 97% 83%, 85% 72%, 84% 62%);'
    />
    <img
      class='left-[14%] h-[75%] z-30 animate-fade-right animate-delay-300'
      srcset='/boxers/viruzz-mobile.webp 767w, /boxers/viruzz.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Viruzz'
      style='clip-path: polygon(71% 24%, 82% 23%, 84% 19%, 85% 13%, 77% 10%, 85% 5%, 85% 2%, 71% 0, 37% 0, 26% 5%, 24% 15%, 38% 20%, 39% 23%, 26% 28%, 18% 32%, 12% 36%, 12% 64%, 7% 75%, 8% 89%, 0 100%, 100% 100%, 100% 93%, 94% 88%, 90% 68%, 86% 45%, 72% 31%, 66% 28%);'
    />
    <img
      class='left-[29%] h-[70%] z-20 animate-fade-right animate-delay-500'
      srcset='/boxers/fernanfloo-mobile.webp 767w, /boxers/fernanfloo.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Fernanfloo'
      style='clip-path: polygon(100% 100%, 100% 91%, 85% 84%, 79% 72%, 76% 33%, 58% 28%, 61% 24%, 69% 22%, 71% 17%, 74% 14%, 68% 11%, 67% 8%, 62% 5%, 62% 0, 36% 0, 13% 6%, 12% 17%, 29% 23%, 9% 30%, 0 35%, 0 100%);'
    />
    <img
      class='left-[41%] h-[68%] z-10 animate-fade-right animate-delay-700'
      srcset='/boxers/la-rivers-mobile.webp 767w, /boxers/la-rivers.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='La Rivers'
      style='clip-path: polygon(92% 81%, 94% 67%, 90% 56%, 97% 47%, 88% 41%, 61% 31%, 68% 28%, 86% 26%, 90% 19%, 83% 15%, 79% 7%, 56% 2%, 29% 0, 12% 6%, 4% 15%, 2% 32%, 5% 45%, 19% 50%, 33% 62%, 29% 68%, 11% 81%, 23% 94%, 28% 100%, 100% 100%, 100% 91%);'
    />
    <img
      class='left-[48%] h-[62%] z-0 animate-fade-right animate-delay-1000'
      srcset='/boxers/papigavi-mobile.webp 767w, /boxers/papigavi.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Papigavi'
      style='clip-path: polygon(100% 64%, 83% 55%, 79% 46%, 78% 39%, 66% 26%, 72% 22%, 78% 18%, 76% 14%, 79% 11%, 78% 4%, 61% 0, 42% 0, 34% 6%, 34% 16%, 0 31%, 0 58%, 12% 74%, 16% 85%, 23% 88%, 25% 100%, 76% 100%, 78% 83%, 89% 81%, 86% 72%, 100% 71%);'
    />
  </div>

  <div class='relative w-full'>
    <img
      class='right-0 h-full z-50 animate-fade-left'
      srcset='/boxers/german-mobile.webp 767w, /boxers/german.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='German'
      style='clip-path: polygon(0% 100%, 14% 85%, 4% 82%, 9% 73%, 11% 54%, 72% 43%, 36% 42%, 23% 37%, 4% 29%, 14% 25%, 0 17%, 0 13%, 39% 0, 100% 1%, 100% 100%);'
    />
    <img
      class='right-[4%] h-[80%] z-40 animate-fade-left animate-delay-200'
      srcset='/boxers/amouranth-mobile.webp 767w, /boxers/amouranth.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Amouranth'
      style='clip-path: polygon(93% 80%, 97% 73%, 74% 56%, 76% 50%, 88% 50%, 100% 39%, 100% 34%, 100% 26%, 92% 20%, 84% 7%, 72% 0, 49% 0, 36% 5%, 35% 11%, 36% 17%, 42% 23%, 47% 29%, 25% 37%, 27% 46%, 33% 48%, 34% 64%, 7% 85%, 0 100%, 81% 100%, 84% 86%);'
    />
    <img
      class='right-[14%] h-[75%] z-30 animate-fade-left animate-delay-300'
      srcset='/boxers/shelao-mobile.webp 767w, /boxers/shelao.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Shelao'
      style='clip-path: polygon(86% 94%, 92% 81%, 90% 72%, 100% 56%, 100% 33%, 69% 22%, 65% 15%, 69% 11%, 69% 6%, 59% 2%, 43% 0, 25% 4%, 23% 8%, 17% 14%, 20% 18%, 22% 23%, 31% 24%, 39% 26%, 19% 33%, 14% 61%, 0 81%, 0 89%, 13% 89%, 14% 100%, 85% 100%);'
    />
    <img
      class='right-[29%] h-[70%] z-20 animate-fade-left animate-delay-500'
      srcset='/boxers/luzu-mobile.webp 767w, /boxers/luzu.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Luzu'
      style='clip-path: polygon(95% 85%, 100% 70%, 100% 37%, 96% 32%, 85% 26%, 69% 22%, 79% 20%, 88% 12%, 89% 6%, 70% 1%, 42% 0, 28% 3%, 24% 9%, 17% 13%, 21% 16%, 22% 22%, 33% 23%, 36% 28%, 20% 33%, 13% 62%, 0 94%, 6% 95%, 3% 100%, 85% 100%, 92% 90%);'
    />
    <img
      class='right-[41%] h-[68%] z-10 animate-fade-left animate-delay-700'
      srcset='/boxers/rivers-mobile.webp 767w, /boxers/rivers.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Rivers'
      style='clip-path: polygon(84% 91%, 100% 82%, 100% 69%, 93% 59%, 100% 47%, 100% 31%, 83% 24%, 81% 17%, 80% 11%, 75% 4%, 63% 1%, 46% 1%, 23% 4%, 16% 10%, 18% 23%, 16% 36%, 9% 48%, 16% 54%, 10% 64%, 0 71%, 0 84%, 22% 86%, 29% 91%, 28% 100%, 92% 100%);'
    />
    <img
      class='right-[48%] h-[62%] z-0 animate-fade-left animate-delay-1000'
      srcset='/boxers/ampeter-mobile.webp 767w, /boxers/ampeter.webp'
      sizes='(max-width: 767px) 767px, 100vw'
      alt='Ampeter'
      style='clip-path: polygon(92% 91%, 90% 81%, 100% 68%, 100% 39%, 84% 28%, 66% 22%, 70% 14%, 74% 6%, 63% 0, 48% 0, 26% 0, 26% 5%, 24% 10%, 20% 15%, 24% 21%, 34% 23%, 39% 28%, 25% 32%, 19% 53%, 0 78%, 0 86%, 14% 90%, 18% 100%, 88% 100%, 86% 93%);'
    />
  </div>
</section>

<script>
  const fighters = document.querySelector("#fighters")
  const fightersImages = fighters.querySelectorAll("img")
  const infoElement = document.querySelector("#info") as HTMLElement
  const combatElement = document.querySelector("#combat") as HTMLElement

  fightersImages.forEach((img) => {
    img.addEventListener("mouseleave", () => {
      fightersImages.forEach((img) => {
        img.style.filter = "none"
        img.style.transition = "all .3s ease-in-out"
        img.style.scale = "1"

        // Show again the normal info and hide the versus info
        infoElement.style.opacity = "1"
        infoElement.style.transition = "all 0.3s ease-in-out"
        combatElement.style.opacity = "0"
        combatElement.style.visibility = "hidden"
        combatElement.style.transition = "all 0.3s ease-in-out"
      })
    })
    img.addEventListener("mouseenter", () => {
      const sectionImages = img.parentNode.children
      const position = Array.from(sectionImages).indexOf(img)
      // Get left fighter and right fighter from position
      const [leftFighter, rightFighter] = [
        fightersImages[position],
        fightersImages[position + fightersImages.length / 2],
      ]
      // Hide non highlighted fighters
      fightersImages.forEach((img) => {
        img.style.filter = "blur(2px) grayscale(.8)"
        img.style.transition = "all .3s ease-in-out"
      })

      // Hide info box and show the versus info
      infoElement.style.opacity = "0"
      infoElement.style.transition = "all 0.3s ease-in-out"
      combatElement.style.opacity = "1"
      combatElement.style.visibility = "visible"
      combatElement.style.transition = "all 0.3s ease-in-out"

      // Highlight the vs pair of fighters
      leftFighter.style.scale = "1.05"
      leftFighter.style.filter = "contrast(1.1)"
      leftFighter.style.transition = "all .3s ease-in-out"

      rightFighter.style.scale = "1.05"
      rightFighter.style.filter = "contrast(1.1)"
      rightFighter.style.transition = "all .3s ease-in-out"
    })
  })
</script>
